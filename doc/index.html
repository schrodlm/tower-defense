<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tower Defense: Tower Defense</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tower Defense
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="classTower.html">Tower</a> Defense </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_DOCUMENTATION"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Zadání</h1>
<p >Kromě základního zadání přímo z ProgTestu jsem se rozhodl navíc implementovat <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a>, které se hráči zobrazí na začátku hry a kde si může přečíst informace o hře, měnit herní nastavení a načítat uložené hry.</p>
<p >Další rozšíření zadání jsou: <br  />
 1) Efekty věží a nepřátel (smrt, upgrade, pohyb) - efekty budou vytvořeny jednoduchým ASCII artem <br  />
 2) Rekordní hala - hala rekordů hráče a datum, kdy byly tyto rekordy zahrány <br  />
 3) Čas jak dlouho je hráč ve hře <br  />
 4) Při dostatku času bych se chtěl pokusit o možnost pro hráče vytvářet si vlastní mapy <br  />
</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Části programu/návrh programu</h1>
<h1><a class="anchor" id="autotoc_md2"></a>
ncurses</h1>
<ul>
<li>program bude implementován přes terminálovou knihovnu pro C++ ncurses</li>
<li>knihovna emuluje chování knihovny curses z Unixu System V Release 4.0.</li>
<li>knihovna je kompatibilní s operačním systémem linux </li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Menu</h1>
<ul>
<li>na začátku programu uživatele čeká menu, to bude mít více hlaviček (např. "Game", "Settings",atd.) -&gt; ty budou mít své vlastní možnosti, přičemž se v menu můžeme pohybovat šipkami</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Mapa a její generace</h1>
<ul>
<li>Mapa bude ohraničena "#" po celém okně, tuto oblast nesmí žádná entita opustit, ani se mimo ní negeneruje obsah</li>
<li>v jednom bodu toto ohraničení nebude, tudy nepřátelé vchází a odchází</li>
<li>Mapa se bude ukládat do vektoru vektorů charakterů, indexy těchto vektorů budou představovat x a y složky pro možnost pohybu na mapě</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Entity ze souborů</h1>
<ul>
<li><a class="el" href="classEntity.html">Entity</a> (jejich zobrazení ve hře a jejich atributy) budou generovány z config souborů</li>
<li>Budě několik druhů entit (věží i nepřátel), kteří se od sebe budou navzájem lišit (např. v rychlosti pohybu, v životech, v poškození atd.) <br  />
</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Pohyb nepřátel na mapě</h1>
<ul>
<li>většina nepřátel se bude na mapě pohybovat pomocí algoritmu BFS, kde budou hledat nejrychlejší možnou cestu k cíli. Někteří nepřátelé mohou ingorovat různé překážky a tedy se k cíli dostat ještě ryhcleji</li>
<li>hloupí nepřátelé, kteří nevidí na konec mapy (seeing_distance je moc malá) budou používat hloupejší algoritmus, kdy se bude snažit jen dostat na nějaký bod kde už cíl uvidí - náhodná odchylka</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Levely</h1>
<ul>
<li>při úspěšném dokončení levelu se hráč dostane do levelu dalšího a tento postup se zapíše do nějakého log filu a uloží se, aby si mohl hráč ukládat postup. Zároveň se data z těchto log filů budou používat k implementaci rekordní haly - která bude ukládat rekorní skóre na mapě.</li>
<li>hra bude mít konečný počet levelů</li>
<li>s postupně vyššími levely by se měla i lineárně zvedat obtížnost hry a zároveň generovat nové nepřátele a překážky</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Config soubory</h1>
<ul>
<li>z config souborů se budou načítat enity a mapy - budou uloženy ve složce data</li>
<li>měly by být strukturovány určitým způsobem, aby načítání programu proběhlo spárvně</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Ovládání</h2>
<p >Hráč se pohybuje v menu pomocí šipek na klávesnici, ale je zde i možnost volby menu přes počáteční písmena volby (např. do nastavení "Settings" se dostaneme přes stisk klávesy "s") Pro volbu specifické možnosti se stiskne "enter".</p>
<p >Při hře hráč bude moci pohybovat s věžmi na mapě také pomocí šipek a enteru. Věže si může hráč také nakupovat. Tyto veže budou umístěny pod mapou a hráč se na ně dostate stiknustím tlačítka "T" (Towers). Bude moci mezi věžmi vybírat opět pomocí šipek a zakoupit věž opět pomocí entru.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Implementace</h2>
<p >Celá hra je implementována v terminále za použití knihovny pro C++ ncurses.</p>
<p >1) <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a></p>
<ul>
<li>menu je realizováno přes 3 třídy - <a class="el" href="classOption.html" title="This class defines options for each menu – for example menu Game has options &quot;New Game&quot; and &quot;Load Gam...">Option</a>, <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a>, <a class="el" href="classMenuBar.html" title="holds all menu objects and its settings, this class also has fucntions that prints its objects to the...">MenuBar</a> --&gt; <a class="el" href="classMenuBar.html" title="holds all menu objects and its settings, this class also has fucntions that prints its objects to the...">MenuBar</a> je největší třída, která obsahuje <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a> - což je právě jedna možnost např. "About" - toto <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a> bude obsahovat vektor Options jako je například "Author", "Levels", atd. tedy <a class="el" href="classMenuBar.html" title="holds all menu objects and its settings, this class also has fucntions that prints its objects to the...">MenuBar</a> obsahuje vektor <a class="el" href="classMenu.html" title="one item of a MenuBar - consists of menu name and its options (class Option)">Menu</a> a každé menu obsahuje vektor Options, dalo by se to znázornit takto:</li>
</ul>
<pre>
+--------------------------------------------------------------------------------------+  
|                                     <a class="el" href="classMenuBar.html" title="holds all menu objects and its settings, this class also has fucntions that prints its objects to the...">MenuBar</a>                                          |       
+-------------------------------+------------------------------+-----------------------+  
|            Menu1              |         Menu2                |       Menu3           |  
+-------------------------------+------------------------------+-----------------------+  
|           Option1             |      Option1                 |      Option1          |  
|           Option2             |      Option2                 |      Option2          |  
|           Option3             |      Option3                 |      Option3          |  
+-------------------------------+------------------------------+-----------------------+  
</pre><p >2) <a class="el" href="classMap.html" title="defines a map that the player is using for gameplay">Map</a></p>
<ul>
<li>Mapu generuji ze souboru ve složce data/maps/*.txt</li>
<li>body na mapě (charaktery) mají všechny svůj PointType, který bude určovat jaké <a class="el" href="classEntity.html">Entity</a> mohou na tento bod na mapě vkročit</li>
<li>body si ukladám std::vector&lt;std::vector&lt;char&gt;&gt; _map; =&gt; kde index vnejšího vektoru představuje souřadnice y a index vnitřního vektoru představuje souřadnice x - mohu tak popsat jakýkoliv bod na mapě</li>
<li>přes tyto vektory také mapu zobrazuji</li>
</ul>
<p >3)<a class="el" href="classEntity.html">Entity</a></p><ul>
<li>jejich atributy jsou načítany ze souboru</li>
<li>atributy pro věže i nepřátele jsou čteny ze souboru data/entities/entites.txt</li>
<li>tyto atributy ze souboru vyberu do mapy std::map&lt;std::string, std::string&gt; tower_attributes, kde tower_attributes.first představuje jméno atributy a tower_attributes.second jeho hodnotu zatím zobrazenou ve stringu</li>
<li>ze souboru jsou tyto hodnoty vybírány přes využití knihovny regulárních expresí &lt;regex&gt;</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
Polymorfizmus</h2>
<p >Polymorfizmus najde v tomto programu využití na více místech. Rozhodně ho využiji na práci s Entitami například při jejich zobrazování na mapě, kde se bude hodit brát všechny věže a nepřátele právě jako <a class="el" href="classEntity.html">Entity</a>. Nejspíše polymorfismus využiji i při pohybu něpřátel po mapě, ale ještě si nejsem jistý, jak budu pohyb implementovat. Rozhodně bych se ještě chtěl pokusit při volbě možnosti v menu, které mám momentálně implementované přes funkci <a class="el" href="menu_8cpp.html#a0df18dec9298b26b73357b6a33cf3b61">menu_handler()</a> a návratové hodnoty, ale pokusím se implementovat jejich funkčnost právě přes nějakou polymorfní funkci action(), která by se chovala jinak pro každou možnost. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
